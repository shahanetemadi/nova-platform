<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

<title>NOVA | The Future of Web3</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&family=Vazirmatn:wght@300;500&display=swap" rel="stylesheet">

<!-- Ethers v5 -->
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>

<style>
:root {
  --bg: #050b1a;
  --card: #0b1633;
  --accent: #00eaff;
  --text: #ffffff;
  --muted: #9aa4c7;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: "Orbitron", "Vazirmatn", sans-serif;
  background: radial-gradient(circle at top, #0b1c3d, #050b1a);
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
}

header {
  padding: 20px 30px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.logo {
  font-size: 22px;
  letter-spacing: 3px;
  color: var(--accent);
}

button {
  background: linear-gradient(135deg, #00c6ff, #0072ff);
  border: none;
  padding: 12px 26px;
  border-radius: 12px;
  color: #fff;
  font-family: inherit;
  cursor: pointer;
  box-shadow: 0 0 25px rgba(0,234,255,.4);
  transition: 0.3s;
}

button:hover {
  transform: scale(1.05);
}

.hero {
  text-align: center;
  padding: 100px 20px 40px;
}

.hero h1 {
  font-size: 40px;
  margin-bottom: 20px;
}

.hero p {
  max-width: 520px;
  margin: auto;
  color: var(--muted);
}

.card {
  background: linear-gradient(180deg, #0b1633, #070e22);
  margin: 40px auto;
  padding: 30px;
  max-width: 700px;
  border-radius: 20px;
  box-shadow: 0 0 40px rgba(0,0,0,.6);
}

.status {
  margin-top: 15px;
  font-size: 14px;
  word-break: break-all;
  color: var(--muted);
}
</style>
</head>

<body>

<header>
  <div class="logo">NOVA</div>
  <button onclick="connectWallet()">Connect Wallet</button>
</header>

<section class="hero">
  <h1>The Future of Web3</h1>
  <p>
    NOVA is a decentralized galaxy-powered platform combining Web3, AI
    structures and next-generation blockchain experiences.
  </p>
</section>

<div class="card">
  <button onclick="signWallet()">Sign Wallet</button>

  <div class="status" id="walletStatus">Wallet: Not connected</div>
  <div class="status" id="signatureStatus">Signature: -</div>
  <div class="status" id="userCount">User Count: 41</div>
</div>

<script>
let provider;
let signer;
let currentAccount;

async function connectWallet() {
  if (!window.ethereum) {
    alert("Wallet not detected. Use MetaMask or SafePal browser.");
    return;
  }

  try {
    provider = new ethers.providers.Web3Provider(window.ethereum);
    await provider.send("eth_requestAccounts", []);
    signer = provider.getSigner();
    currentAccount = await signer.getAddress();

    document.getElementById("walletStatus").innerText =
      "Wallet: " + currentAccount;

    await switchToBSC();

  } catch (err) {
    alert("Connection failed");
    console.error(err);
  }
}

async function switchToBSC() {
  const bscChainId = "0x38";

  try {
    await window.ethereum.request({
      method: "wallet_switchEthereumChain",
      params: [{ chainId: bscChainId }]
    });
  } catch (switchError) {
    if (switchError.code === 4902) {
      await window.ethereum.request({
        method: "wallet_addEthereumChain",
        params: [{
          chainId: bscChainId,
          chainName: "Binance Smart Chain",
          rpcUrls: ["https://bsc-dataseed.binance.org/"],
          nativeCurrency: {
            name: "BNB",
            symbol: "BNB",
            decimals: 18
          },
          blockExplorerUrls: ["https://bscscan.com"]
        }]
      });
    }
  }
}

async function signWallet() {
  if (!signer) {
    alert("Connect wallet first");
    return;
  }

  try {
    const message = "NOVA AUTH SIGNATURE";
    const signature = await signer.signMessage(message);

    document.getElementById("signatureStatus").innerText =
      "Signature: " + signature;

  } catch (err) {
    alert("Signature rejected");
  }
}
</script>

</body>
</html>
