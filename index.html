<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NOVA | AI Web3 Ecosystem</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Web3 -->
<script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>

<!-- Scroll -->
<script src="https://unpkg.com/scrollreveal"></script>

<!-- Font -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap" rel="stylesheet">

<style>
:root{
  --neon:#00ffe7;
  --blue:#4da3ff;
  --dark:#050812;
}
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:'Orbitron',sans-serif;
  background:var(--dark);
  color:#fff;
  overflow-x:hidden;
}
button{
  background:linear-gradient(90deg,var(--blue),var(--neon));
  border:none;
  padding:12px 26px;
  border-radius:30px;
  cursor:pointer;
  color:#000;
  font-weight:600;
}
section{padding:100px 8%}

/* HERO */
.hero{
  min-height:100vh;
  background:
    radial-gradient(circle at 20% 30%,#1a3cff55,transparent 40%),
    radial-gradient(circle at 80% 70%,#00ffe755,transparent 40%),
    url("https://images.unsplash.com/photo-1639322537504-6427a16b0a28");
  background-size:cover;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
}
.hero h1{font-size:64px}
.hero p{margin-top:20px;color:#9db4ff}

/* GRID */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:30px;
}
.card{
  background:rgba(255,255,255,0.05);
  backdrop-filter:blur(14px);
  border-radius:18px;
  padding:30px;
  transition:.4s;
}
.card:hover{transform:translateY(-10px);box-shadow:0 0 40px #00ffe744}

/* ACTION BAR */
.actions{
  display:flex;
  flex-wrap:wrap;
  gap:15px;
  justify-content:center;
  margin-top:30px;
}

/* STATUS */
.status{
  margin-top:20px;
  color:var(--neon);
  word-break:break-all;
}

footer{
  padding:30px;
  background:#02040a;
  text-align:center;
  color:#777;
}
</style>
</head>

<body>

<!-- HERO -->
<div class="hero">
  <div>
    <h1>NOVA</h1>
    <p>AI × Web3 × Binary Network on BSC</p>
    <div class="actions">
      <button onclick="connectWallet()">Connect Wallet</button>
      <button onclick="signWallet()">Sign Wallet</button>
      <button onclick="scrollTo('dashboard')">Dashboard</button>
    </div>
    <div class="status" id="walletStatus">Not Connected</div>
    <div class="status" id="signStatus"></div>
  </div>
</div>

<!-- FEATURES -->
<section>
  <h2>Core Features</h2>
  <div class="grid">
    <div class="card">AI Neural Binary Logic</div>
    <div class="card">On-Chain Transparency</div>
    <div class="card">Wallet-Based Identity</div>
  </div>
</section>

<!-- DASHBOARD -->
<section id="dashboard">
  <h2>User Control Panel</h2>
  <div class="grid">
    <div class="card" id="usernameBox">Username: -</div>
    <div class="card" id="rewardBox">Rewards: -</div>
    <div class="card">
      <div class="actions">
        <button onclick="withdraw()">Withdraw</button>
        <button onclick="refresh()">Refresh</button>
      </div>
    </div>
  </div>
</section>

<footer>© 2025 NOVA – Phase 3</footer>

<script>
ScrollReveal().reveal('section',{distance:'80px',duration:1200});

let web3, account, contract;
const contractAddress="0x3810099D2D61e0399d07a3bad4e796A3De82ff27";

const ABI=[
{"inputs":[{"internalType":"address","name":"userAddr","type":"address"},{"internalType":"bool","name":"showNotifications","type":"bool"}],"name":"UserBulkInfo","outputs":[{"internalType":"string","name":"username","type":"string"},{"components":[{"internalType":"uint256","name":"uniUsd","type":"uint256"},{"internalType":"uint256","name":"biUsd","type":"uint256"},{"internalType":"uint256","name":"vou","type":"uint256"},{"internalType":"uint256","name":"mileUsd","type":"uint256"}],"internalType":"struct BackBone.Balance","name":"latest","type":"tuple"}],"stateMutability":"view","type":"function"},
{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}
];

function scrollTo(id){
  document.getElementById(id).scrollIntoView({behavior:"smooth"});
}

async function connectWallet(){
  if(!window.ethereum) return alert("Wallet not found");
  web3=new Web3(window.ethereum);
  account=(await ethereum.request({method:"eth_requestAccounts"}))[0];
  contract=new web3.eth.Contract(ABI,contractAddress);
  document.getElementById("walletStatus").innerText="Connected: "+account;
  refresh();
}

async function signWallet(){
  if(!account) return alert("Connect wallet first");
  const message="NOVA Authentication\n"+account+"\n"+Date.now();
  const signature=await web3.eth.personal.sign(message,account);
  document.getElementById("signStatus").innerText="Signed ✔️";
  console.log("Signature:",signature);
}

async function refresh(){
  if(!contract) return;
  const data=await contract.methods.UserBulkInfo(account,false).call();
  document.getElementById("usernameBox").innerText="Username: "+data.username;
  document.getElementById("rewardBox").innerText=
    "Rewards: "+web3.utils.fromWei(data.latest.biUsd,"ether")+" USD";
}

async function withdraw(){
  if(!contract) return;
  await contract.methods.withdraw().send({from:account});
}
</script>

</body>
</html>
